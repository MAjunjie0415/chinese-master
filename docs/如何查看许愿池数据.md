# å¦‚ä½•æŸ¥çœ‹è®¸æ„¿æ± æ•°æ®

## ğŸ“Š æ•°æ®å­˜å‚¨ä½ç½®

è®¸æ„¿æ± æ•°æ®ä¿å­˜åœ¨ Supabase çš„ `user_wishes` è¡¨ä¸­ã€‚

## ğŸ” æŸ¥çœ‹æ–¹æ³•

### æ–¹æ³•1ï¼šSupabase Dashboardï¼ˆæœ€ç®€å•ï¼‰

1. **æ‰“å¼€ Supabase Dashboard**
   - è®¿é—®ï¼šhttps://supabase.com/dashboard
   - ç™»å½•ä½ çš„è´¦æˆ·
   - é€‰æ‹©é¡¹ç›®ï¼š`ChineseMaster`

2. **è¿›å…¥ Table Editor**
   - å·¦ä¾§èœå• â†’ **Table Editor**
   - åœ¨è¡¨åˆ—è¡¨ä¸­æ‰¾åˆ° `user_wishes` è¡¨
   - ç‚¹å‡»è¡¨åæ‰“å¼€

3. **æŸ¥çœ‹æ•°æ®**
   - å¯ä»¥çœ‹åˆ°æ‰€æœ‰ç”¨æˆ·æäº¤çš„æ„¿æœ›
   - å­—æ®µè¯´æ˜ï¼š
     - `id`: æ„¿æœ›IDï¼ˆUUIDï¼‰
     - `user_id`: æäº¤ç”¨æˆ·çš„ID
     - `title`: è¯¾ç¨‹æ ‡é¢˜
     - `category`: ç±»åˆ«ï¼ˆbusiness/travel/exam/culture/otherï¼‰
     - `description`: è¯¦ç»†æè¿°
     - `status`: çŠ¶æ€ï¼ˆpending/approved/building/completed/rejectedï¼‰
     - `created_at`: æäº¤æ—¶é—´

4. **ç­›é€‰å’Œæ’åº**
   - ç‚¹å‡»åˆ—æ ‡é¢˜å¯ä»¥æ’åº
   - ä½¿ç”¨å³ä¸Šè§’çš„ Filter æŒ‰é’®å¯ä»¥ç­›é€‰
   - ä¾‹å¦‚ï¼šç­›é€‰ `status = 'pending'` æŸ¥çœ‹å¾…å¤„ç†çš„æ„¿æœ›

### æ–¹æ³•2ï¼šSQL Editorï¼ˆé«˜çº§æŸ¥è¯¢ï¼‰

1. **æ‰“å¼€ SQL Editor**
   - å·¦ä¾§èœå• â†’ **SQL Editor**
   - ç‚¹å‡» **New Query**

2. **æ‰§è¡ŒæŸ¥è¯¢**

**æŸ¥çœ‹æ‰€æœ‰æ„¿æœ›ï¼š**
```sql
SELECT 
  id,
  user_id,
  title,
  category,
  description,
  status,
  created_at
FROM user_wishes
ORDER BY created_at DESC;
```

**æŸ¥çœ‹å¾…å¤„ç†çš„æ„¿æœ›ï¼š**
```sql
SELECT 
  id,
  title,
  category,
  description,
  created_at
FROM user_wishes
WHERE status = 'pending'
ORDER BY created_at DESC;
```

**æŒ‰ç±»åˆ«ç»Ÿè®¡ï¼š**
```sql
SELECT 
  category,
  COUNT(*) as count
FROM user_wishes
GROUP BY category
ORDER BY count DESC;
```

**æŸ¥çœ‹æŸä¸ªç”¨æˆ·çš„æ„¿æœ›ï¼š**
```sql
SELECT 
  title,
  category,
  status,
  created_at
FROM user_wishes
WHERE user_id = 'YOUR_USER_ID'
ORDER BY created_at DESC;
```

### æ–¹æ³•3ï¼šä½¿ç”¨ Supabase APIï¼ˆç¨‹åºåŒ–è®¿é—®ï¼‰

å¦‚æœéœ€è¦åœ¨å‰ç«¯æˆ–APIä¸­æŸ¥è¯¢ï¼Œå¯ä»¥ä½¿ç”¨ Supabase Clientï¼š

```typescript
import { createBrowserSupabaseClient } from '@/lib/supabase';

const supabase = createBrowserSupabaseClient();

// æŸ¥è¯¢æ‰€æœ‰æ„¿æœ›ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
const { data, error } = await supabase
  .from('user_wishes')
  .select('*')
  .order('created_at', { ascending: false });

// æŸ¥è¯¢å¾…å¤„ç†çš„æ„¿æœ›
const { data: pending } = await supabase
  .from('user_wishes')
  .select('*')
  .eq('status', 'pending')
  .order('created_at', { ascending: false });
```

## ğŸ“‹ è¡¨ç»“æ„è¯´æ˜

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `id` | uuid | ä¸»é”®ï¼Œè‡ªåŠ¨ç”Ÿæˆ |
| `user_id` | text | ç”¨æˆ·IDï¼ˆå…³è” auth.users.idï¼‰ |
| `title` | text | è¯¾ç¨‹æ ‡é¢˜ï¼ˆå¿…å¡«ï¼‰ |
| `category` | text | ç±»åˆ«ï¼šbusiness/travel/exam/culture/other |
| `description` | text | è¯¦ç»†æè¿°ï¼ˆå¯é€‰ï¼‰ |
| `status` | text | çŠ¶æ€ï¼špending/approved/building/completed/rejected |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ |

## ğŸ” æƒé™è¯´æ˜

- **RLSç­–ç•¥**ï¼šç”¨æˆ·åªèƒ½æŸ¥çœ‹å’Œæ’å…¥è‡ªå·±çš„æ„¿æœ›
- **ç®¡ç†å‘˜æŸ¥çœ‹**ï¼šéœ€è¦åœ¨ Supabase Dashboard ä¸­æŸ¥çœ‹ï¼Œæˆ–ä½¿ç”¨ Service Role Key

## ğŸ’¡ ç®¡ç†å»ºè®®

1. **å®šæœŸæŸ¥çœ‹**ï¼šå»ºè®®æ¯å¤©æŸ¥çœ‹ä¸€æ¬¡æ–°çš„æ„¿æœ›
2. **çŠ¶æ€æ›´æ–°**ï¼šæ ¹æ®å¼€å‘è¿›åº¦æ›´æ–° `status` å­—æ®µ
3. **æ•°æ®åˆ†æ**ï¼šä½¿ç”¨ SQL æŸ¥è¯¢åˆ†æç”¨æˆ·éœ€æ±‚è¶‹åŠ¿

## ğŸš€ æœªæ¥åŠŸèƒ½

å¯ä»¥è€ƒè™‘æ·»åŠ ï¼š
- ç®¡ç†åå°é¡µé¢ï¼ˆæŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰æ„¿æœ›ï¼‰
- æ„¿æœ›çŠ¶æ€æ›´æ–°åŠŸèƒ½
- æ„¿æœ›ç»Ÿè®¡å›¾è¡¨

